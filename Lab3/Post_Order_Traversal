import java.util.Scanner;
public class PostOrderTraversal {
    static int[] inOrder, postOrder, preOrder;
    static int postIndex;

    public static void main (String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();

        inOrder = new int[n];
        preOrder = new int[n];
        postOrder = new int[n];

        for (int i = 0; i < n; i++) {
            inOrder[i] = scanner.nextInt();
        }
        for (int i = 0; i < n; i++) {
            preOrder[i] = scanner.nextInt();
        }

        postIndex = 0;

        buildPostBT(0, n - 1, 0, n - 1);

        for (int i = 0; i < n; i++) {
            System.out.print(postOrder[i] + " ");
        }
    }

    public static void buildPostBT (int inStart, int inEnd, int preStart, int preEnd) {
        if(inStart>inEnd || preStart >preEnd){
            return;
        }
        int rootvalue=preOrder[preStart];

        int indexInorder=-1;
        for(int i =inStart; i <= inEnd; i++){
            if(inOrder[i]==rootvalue){
                indexInorder=i;
                break;
            }
        }
        int leftSubtreeSize=indexInorder-inStart;

        buildPostBT(inStart,indexInorder-1, preStart+1,preStart+leftSubtreeSize);
        buildPostBT(indexInorder+1,inEnd,preStart+leftSubtreeSize+1,preEnd);

        postOrder[postIndex++]=rootvalue;
    }
}

/*
        input
        5
        4 2 5 1 3 // In order traversal
        1 2 4 5 3 // pre order traversal

        output
        4 5 2 3 1 // post order traversal
 */
